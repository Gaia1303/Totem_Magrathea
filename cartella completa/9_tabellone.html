<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Audiowide&family=Exo:wght@100..900&display=swap" rel="stylesheet">
    <link rel="icon" href="fav.png" type="image/x-icon">

    <link rel="stylesheet" href="css/tabellone.css">

    <title>Tabellone</title>
    
</head>
<body>

    <div class="header">
        <img class="logo" src="img/logo.png" alt="logo Magrathea">
        <div id="current-time"></div>
    </div>

    <h2>Stazione di Magrathea</h2>

    <!-- Primo info-grid -->
    <div class="info-grid">
        <h3>Kalyton</h3>
        <p class="trans-code">RAX 1248</p>
        <p class="destination">ASTRION</p>
        <p class="departure" id="departure1"></p> <!-- Orario dinamico -->
        <p class="gate">Gate 3</p>
        <p class="trans-code">CAPX 158</p>
        <p class="destination">ZENTHRA</p>
        <p class="departure" id="departure2"></p> <!-- Orario dinamico -->
        <p class="gate">Gate 5</p>
        <p class="trans-code">RAX 2298</p>
        <p class="destination">SMILLAK</p>
        <p class="departure" id="departure3"></p> <!-- Orario dinamico -->
        <p class="gate">Gate 4</p>
    </div>
   
    <!-- Secondo info-grid -->
    <div class="info-grid">
        <h3>Velurion</h3>
        <p class="trans-code">RAX 2646</p>
        <p class="destination">AETHERIS</p>
        <p class="departure" id="departure4"></p> <!-- Orario dinamico -->
        <p class="gate">Gate 9</p>
        <p class="trans-code">NAV 22</p>
        <p class="destination">POLARIS</p>
        <p class="departure" id="departure5"></p> <!-- Orario dinamico -->
        <p class="gate">Gate 8</p>
        <p class="trans-code">RAX 2123</p>
        <p class="destination">SPARCUS</p>
        <p class="departure" id="departure6"></p> <!-- Orario dinamico -->
        <p class="gate">Gate 1</p>
    </div>
   
    <!-- Terzo info-grid -->
    <div class="info-grid">
        <h3>Hielo</h3>
        <p class="trans-code">RAX 2848</p>
        <p class="destination">AURORA NEXUS</p>
        <p class="departure" id="departure7"></p> <!-- Orario dinamico -->
        <p class="gate">Gate 2</p>
        <p class="trans-code">NAV 11</p>
        <p class="destination">STELLARK</p>
        <p class="departure" id="departure8"></p> <!-- Orario dinamico -->
        <p class="gate">Gate 6</p>
        <p class="trans-code">RAX 728</p>
        <p class="destination">NEBRION</p>
        <p class="departure" id="departure9"></p> <!-- Orario dinamico -->
        <p class="gate">Gate 3</p>
    </div>

    <script>
        // Funzione per aggiornare l'orario corrente nell'header
        function updateHeaderTime() {
            const now = new Date();
            const hours = now.getHours().toString().padStart(2, '0');
            const minutes = now.getMinutes().toString().padStart(2, '0');
            const timeString = `${hours}:${minutes}`;
            document.getElementById('current-time').textContent = timeString;
        }
    
        // Funzione per calcolare gli orari di partenza
        function updateDepartureTimes() {
            const now = new Date();
            const hours = now.getHours();
            const minutes = now.getMinutes();
    
            // Funzione per aggiungere minuti all'orario corrente
            function addMinutes(time, minutesToAdd) {
                const newTime = new Date(time);
                newTime.setMinutes(time.getMinutes() + minutesToAdd);
                const newHours = newTime.getHours().toString().padStart(2, '0');
                const newMinutes = newTime.getMinutes().toString().padStart(2, '0');
                return `${newHours}:${newMinutes}`;
            }
    
            // Ottieni orari di partenza dinamici (10, 25, 38 minuti dopo l'ora corrente)
            const departure1 = addMinutes(now, 10);  // Orario 10 minuti dopo
            const departure2 = addMinutes(now, 25);  // Orario 25 minuti dopo
            const departure3 = addMinutes(now, 38);  // Orario 38 minuti dopo
            const departure4 = addMinutes(now, 12);  // Orario 12 minuti dopo
            const departure5 = addMinutes(now, 21);  // Orario 21 minuti dopo
            const departure6 = addMinutes(now, 42);  // Orario 42 minuti dopo
            const departure7 = addMinutes(now, 5);  // Orario 5 minuti dopo
            const departure8 = addMinutes(now, 28);  // Orario 28 minuti dopo
            const departure9 = addMinutes(now, 53);  // Orario 53 minuti dopo
    
            // Aggiorna i valori nella tabella
            document.getElementById('departure1').textContent = departure1;
            document.getElementById('departure2').textContent = departure2;
            document.getElementById('departure3').textContent = departure3;
            document.getElementById('departure4').textContent = departure4;
            document.getElementById('departure5').textContent = departure5;
            document.getElementById('departure6').textContent = departure6;
            document.getElementById('departure7').textContent = departure7;
            document.getElementById('departure8').textContent = departure8;
            document.getElementById('departure9').textContent = departure9;
        }
    
        // Aggiorna l'orario nell'header ogni minuto
        setInterval(updateHeaderTime, 60000);
        // Imposta subito l'orario all'inizio
        updateHeaderTime();
    
        // Calcola e imposta gli orari di partenza all'inizio (solo al caricamento della pagina)
        updateDepartureTimes();
    </script>

</body>
</html>
