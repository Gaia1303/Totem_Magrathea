<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1" />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Audiowide&family=Exo:wght@100..900&display=swap" rel="stylesheet">
  <link rel="icon" href="img/fav.png" type="image/x-icon">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <!-- Calendar arrows button -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

  <title>Avventura a Fungolandia</title>
  <link rel="stylesheet" href="css/general.css">
  <link rel="stylesheet" href="css/attivita-dettaglio.css">

</head>
<body>
<!-- Intestazione -->
<div class="header">
  <img class="logo" src="img/logo.png">
  <div id="current-time"></div>
</div>

<!-- Content -->

<h2 class="activity-title">Avventura a Fungolandia</h2>
<img class="activity-img img-fluid mb-12" src="img/activityImage.png" alt="Activity Image">
<p class="activity-paragraph">
  Esplora una foresta sotterranea di funghi giganti bioluminescenti. Cammina tra sentieri illuminati, e ammira i colossali funghi, le cui cappelle pulsano di luce soffusa in tonalità di blu, viola e verde smeraldo. Il tour guidato dura 2 ore ed è adatto a tutti. <br>
  Le visite si svolgono tutti i giorni dalle 9:00 alle 19:00. Prenota ora!
</p>
<h3 class="activity-dates-title">Segli le date</h3>

<!-- Calendar -->
<div class="calendar">
  <div class="header">
    <button class="header-button" id="prevBtn">
      <i class="fa-solid fa-chevron-left"></i>
    </button>
    <div class="monthYear" id="monthYear"></div>
    <button class="header-button" id="nextBtn">
      <i class="fa-solid fa-chevron-right"></i>
    </button>
  </div>
  <div class="days">
    <div class="day">Lun</div>
    <div class="day">Mar</div>
    <div class="day">Mer</div>
    <div class="day">Gio</div>
    <div class="day">Ven</div>
    <div class="day">Sab</div>
    <div class="day">Dom</div>
  </div>
  <div class="dates" id="dates"></div>
</div>

<div class="buttons-section">
  <button class="cancel-button">Annulla</button>
  <button class="select-button">Conferma</button>
</div>



<!-- Barra Navigazione-->
<div class="navigation-bar">
  <img class="nav img-fluid" src="img/barra-nav.png" alt="Navigation bar">
  <img class="home-button" src="img/home-button.png" alt="Home">
  <img class="back-button" src="img/back.button.png" alt="Back">
  <img class="accessibility-button" src="img/accessibilità-button.png" alt="Accessibility">
  <img class="lang-button" src="img/lingue-button.png" alt="Languages">
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>



<!-- Script JS -->
<script>
  <!-- Hours -->
  function updateTime() {
    const now = new Date();
    const hours = now.getHours().toString().padStart(2, '0');
    const minutes = now.getMinutes().toString().padStart(2, '0');
    const timeString = `${hours}:${minutes}`;
    document.getElementById('current-time').textContent = timeString;
  }

  // Aggiorna l'orario ogni minuto
  setInterval(updateTime, 60000);
  // Imposta subito l'orario all'inizio
  updateTime();

  //Calendar

  document.addEventListener("DOMContentLoaded", function () {
    const monthYearElement = document.getElementById("monthYear");
    const datesElement = document.getElementById("dates");
    const prevBtn = document.getElementById("prevBtn");
    const nextBtn = document.getElementById("nextBtn");

    let currentDate = new Date();

    const updateCalendar = () => {
      const currentYear = currentDate.getFullYear();
      const currentMonth = currentDate.getMonth();

      const firstDay = new Date(currentYear, currentMonth, 1);
      const lastDay = new Date(currentYear, currentMonth + 1, 0);
      const totalDays = lastDay.getDate();
      const firstDayIndex = firstDay.getDay(); // 0 = domenica, 1 = lunedì, ecc.

      // Formattazione mese e anno
      const monthYearString = currentDate.toLocaleString("default", {
        month: "long",
        year: "numeric",
      });
      monthYearElement.textContent = monthYearString;

      let datesHTML = "";

      // Giorni del mese precedente
      const prevLastDay = new Date(currentYear, currentMonth, 0).getDate();
      for (let i = firstDayIndex; i > 0; i--) {
        datesHTML += `<div class="date inactive">${prevLastDay - i + 1}</div>`;
      }

      // Giorni del mese corrente
      for (let i = 1; i <= totalDays; i++) {
        const date = new Date(currentYear, currentMonth, i);
        const today = new Date();
        const activeClass = date.toDateString() === today.toDateString() ? "active" : "";
        datesHTML += `<div class="date ${activeClass}">${i}</div>`;
      }

      // Giorni del mese successivo
      const remainingDays = 42 - (firstDayIndex + totalDays);
      for (let i = 1; i <= remainingDays; i++) {
        datesHTML += `<div class="date inactive">${i}</div>`;
      }

      datesElement.innerHTML = datesHTML;
    };

    prevBtn.addEventListener("click", () => {
      currentDate.setMonth(currentDate.getMonth() - 1);
      updateCalendar();
    });

    nextBtn.addEventListener("click", () => {
      currentDate.setMonth(currentDate.getMonth() + 1);
      updateCalendar();
    });

    // Caricamento iniziale
    updateCalendar();
  });

</script>

</body>
</html>